---
title: "[React] 리액트 시작"
excerpt: "공부한거 요약"

categories:
  - React
tags:
  - [React]

toc: true
toc_sticky: true

date: 2021-12-07
last_modified_at: 2021-12-07
---

<br><br>

[책](https://www.coupang.com/vp/products/120472093?itemId=358581223&vendorItemId=5273684398&src=1042503&spec=10304984&addtag=400&ctag=120472093&lptag=10304984I358581223&itime=20211207005638&pageType=PRODUCT&pageValue=120472093&wPcid=16343068305263469638211&wRef=&wTime=20211207005638&redirect=landing&gclid=CjwKCAiAhreNBhAYEiwAFGGKPGAzme2bZkOOwvE8flNvEgVNhXAC5GbGlmYy7vRM86Zn4ksRcB88IhoCojYQAvD_BwE&campaignid=12654708954&adgroupid=123881097567&isAddedCart=)

[Velopert](https://velopert.com/)

<br><br>

# 왜 리액트를 배워야 할까?

자바스크립트는 웹 어플리케이션의 핵심. 규모가 큰 어플리케이션을 만들 수 있다.  
Angular, Vue, Backbone 등등 수많은 웹 프레임워크는 각각 다른 관점에서 어플리케이션 구조를 바라본다.

이 관점이란 M, V, C를 의미하는데,

- M : model, 어플리케이션에서 사용하는 데이터를 관리하는 영역
- V : vue, 사용자에게 보이는 부분
- C : controller, 모델 데이터를 조회하거나 수정하고 변경된 사항을 V(vue)에 반영

데이터가 변경되면 기존에 렌더링하던걸 싹다 버리고 새로 렌더링해도 되지만, 끊김, 메모리 사용량, CPU 점유율 등 다양한 문제가 발생할 것이다. 이는 UX의 저하로 이어지고, UX의 저하를 막기위해 개발된 것이 react이다.

<br><br>

## 리액트에 대한 이해

리액트는 사용자 인터페이스, UI를 만드는데에 사용된다. -> V만 신경쓰는 라이브러리

리액트 프로젝트는 각 컴포넌트로 분해되는데, 각각의 컴포넌트가 스스로 생김새와 작동방식을 정의한다.

리액트가 어떻게 성능을 아끼고, 사용자 경험을 아끼는지 이해하기 위해선 초기렌더링와 조화과정을 이해해야한다.

<br><br>

### 초기렌더링

각 컴포넌트의 render함수가 초기렌더링될때 실행된다.  
이 함수는 컴포넌트가 어떻게 생겼는지, 어떻게 작동하고 어떤 뷰를 가지는지에 대한 정보를 가진 객체를 반환한다.

이 렌더링은 3절차를 거치는데,

1. 컴포넌트의 render함수 내부에 다른 컴포넌트가 존재할 수 있는데, 내부 컴포넌트도 재귀적으로 렌더링된다.
2. 이 작업이 끝나면 가진 정보로 HTML 마크업을 작성한다.
3. 실제 페이지의 DOM요소 안에 주입

<br><br>

### 조화과정

리액트에서 뷰를 업데이트하는 과정을 reconciliation, 조화과정이라고 한다.

컴포넌트의 데이터 업데이트 -> 새로운 데이터로 render함수호출 -> 뷰 생성

이 과정을 거치는데, `새로운 데이터로 만들어낸 뷰와 기존 뷰를 최소한의 연산으로 비교하고, 이 둘의 차이를 알아내 DOM트리를 갱신한다.`

각 컴포넌트가 내부 컴포넌트를 호출하면서 tree형태의 엘리먼트 트리를 생성할 것이다.  
리액트는 기존 트리와 새로만든 트리 사이를 비교하고,  
트리가 바뀐 부분과 바뀌지 않은 부분을 구별해내며 트리를 갱신해나가는데, 보통 트리가 O(n^3)의 시간복잡도를 가진다면, 리액트는 2가지 가정에 기반해 O(n)복잡도 알고리즘을 구현했다고한다.

이 조화과정에 대해 깊숙히 알기위해선 `라이프사이클 메서드`에 대해서 알아야한다. 이후에 다루도록하자.

<br><br>

# 리액트의 특징

## Dom

DOM객체는 js에서 html로부터 객체를 가져오는 방법에 대해 배울때 다룬다.  
js로 가져온 DOM객체에 css를 적용하거나, js로 객체를 조정하면서 화면을 바뀌게해주는데,  
DOM은 트리형태라서 특정 노드를 찾고, 수정하고, 제거가 가능하다.

일반적으로 DOM의 문제점은 동적UI에 최적화되어있지 않다는 것이다.  
당장 form태그의 onsubmit 이벤트리스너만 달아주어도, 페이지가 초기화되는 것을 방지하기 위해 event.preventDefault를 일일히 달아주는 것이 반증이다.

DOM은 조작할때 웹 브라우저가 CSS를 다시 연산하고, 레이아웃을 구성하고, 페이지를 다시 그리는 과정이 일어나 시간이 허비되고, UX가 낮아지게된다.
트위터나 페이스북처럼 대용량 데이터를 계속 로딩해야하는 어플리케이션에서 DOM에 직접 접근해 변화를 주면 성능이슈가 발생한다.

리액트는 이 DOM을 조작하는 회수를 최소화해 성능이슈를 해결한다.

<br><br>

## Virtual DOM

1. 초기렌더링
2. 데이터 업데이트
3. 새로운 데이터로 Virtual DOM생성
4. 이전 Virtual DOM과 새로운 Virtual DOM 비교
5. 바뀐 부분만 DOM에 적용

![다운로드](https://user-images.githubusercontent.com/76278794/144771425-978d4065-e9ca-43f5-b74d-025950c2a310.png)

리액트는 자주 데이터가 업데이트되어야하는 대규모 어플리케이션에서 탁월한 성능을 보인다.(페이스북, 트위터 등)  
블로그와 같은 정적페이지 기반의 소규모 프로젝트는 오히려 사용하지 않는게 좋을수도 있다.

<br><br>

## 다른 특징

리액트가 어플리케이션을 V만 담당한다고 했는데, 왜냐하면 리액트는 프레임워크가 아닌 라이브러리이기 때문이다.

리액트에서 라우팅, Ajax처리나 상태관리 등을 하기 위해서는 다른 라이브러리(react-router, axios, redux 등)와 혼용되어야하고, Angular 등의 프레임워크와 혼용이 가능한 장점이 있다.

단점으로는,, 하나빼고 모두 배워야한다는 거?
