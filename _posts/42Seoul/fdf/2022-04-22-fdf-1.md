---
title: "FDF(1)"
excerpt: "This project is about creating a simplified 3D graphic representation of a relief landscape."

categories:
  - fdf
tags:
  - 42seoul

toc: true
toc_sticky: true

date: 2022-04-22
last_modified_at: 2022-04-22
---

FDF 프로젝트에 대한 소개영상.
Fil de Fer라는 의미. 한국어로 철사라는 의미이다.
지도를 제작하는 작은 소프트웨어를 만든다.  
구글맵과는 쨉도 안됨....

창을 만들고, 그 안에 픽셀을 그리고, 몇 개의 이벤트를 조작하게된다.  

맵파일은 기본적으로 x축, y축을 가진 2차원 평면으로 주어지는데,

x축과 y축은 한 점의 위치이고, z축은 한 점이 가진 값으로 표현된다.  

고도를 조정할 수 있고, 줌인 줌아웃, 색변경, 등을 할 수 있다.  
또한 창 안에서 그림을 그릴 수도 있다.(점과 점 사이를 잇는다.) 이 알고리즘에 대해선 Bresenham segment를 찾아보자.  

여러가지 맵파일. 42맵파일 뿐만아니라, 나라의 지도와 같은 맵 파일을 받아서 이걸로 그릴수도있다.  

MinilibX라는 라이브러리는 통칭 MLX라고 불린다.  

이에관한 몇가지 man page가 존재한다.  

<br><br>

## man


### 1. mlx


      ```sh
      mlx => 학생들을 위한 간단한 그래픽 인터페이스 라이브러리.
      시놉시스
            #include <mlx.h>
            void *
            mlx_init ();

      설명
            MinuLibX는 `X-Window나 Cocoa프로그래핑 지식 없이`그래픽적인 소프트웨어로르 만들 수 있는 쉬운 방법을 제공한다.  
            간단한 창을 만들 수 있고, 그리기 도구와 이미지, 기본 이벤트 관리를 제공한다.  


      BSD/LINUX에서 X-WINDOW의 이해
            X-Window는 유닉스를 위한 네트워크 지향적 그래픽 시스템이다.  
            X-Window는 2가지의 메인 객체로 구성된다.  
            1. 키보드, 마우스 입력과 스크린에 무언가 그리는 `software`  
            2. 위의 스크린과 키보드, 마우스를 관리하는 `X-Server`. (디스플레이로 통칭)  
            user가 스크린에 그림을 그린다->  
            1. `X-Server`가 키보드, 마우스 이벤트를 스크린 상에서 감지하고, `software`측에 전달한다.  
            2. `software`에서 그리는 명령이 `X-Server`로 전달된다.  
            위 두 객체 사이에 네트워크 연결이 반드시 되어있어야 한다.  


      MACOSX에서 이해
            MacOSX의 운영체제는 스크린, 디스플레이 상으로의 그래픽 접속을 제어한다.  
            한쪽에서는 `software`가 스크린, 마우스, 키보드 객체를 얻고, 스크린 상에 그리는 역할을 한다.  
            다른 쪽에서는 `MacOSX`의 그래픽 프레임워크가 키보드, 마우스, windowing system과 screen을 제어한다.  
            두 객체간 연결이 반드시 만들어져있어야 한다.  


      INCLUDE FILE
            `mlx.h`헤더를 인클루스해야 `MiniLibX` API를 사용할 수 있는데, 이 헤더에는 함수의 프로토타입만 선언되어있다. 
            구조체를 필요로 하지 않는다.  


      LIBRARY FUNCTIONS
            일단, 소프트웨어와 디스플레이 간 연결을 초기화해야한다.  
            연결이 만들어지면, 그래픽적 명령을 보낼 수 있는 `MiniLibX`함수들을 사용할 수 있다.  
            이에는 유저가 키입력을 감지하고, window에 픽셀을 그릴 수 있는 것 등의 명령을 보낼 수 있다.  

            `mlx_init`함수가 이 연결을 만드는데, 인자를 필요로하지 않는다.  
            그리고 이 함수는 라이브러리 루틴에따리 필요되어지는 `vodi *형태의 식별자를 반환`한다.  

            다른 `MiniLibX` 함수의 man page는 밑에서 확인할 수 있다.  

            mlx_new_window      : window(창)을 관리

            mlx_pixel_put       : window안에 무언가 그림

            mlx_new_image       : 이미지를 조작

            mlx_loop            : 마우스, 키보드 이벤트를 제어


      BSD/Linux와 X-Window에서 MiniLibX LINKING
            MiniLibX의 함수를 사용하기 위해선, software를 MiniLibX 라이브러리 뿐만아니라 다른 몇몇 라이브러리를 연결해야한다. 

            이를 위해선, linking시점에 아래와 같은 인자를 추가하면된다.  

            `-lmlx -lXext -lX11`

            이 라이브러리들을 위해서 경로를 특정해야할 수 있는데, -L 플래그를 사용한다.


      MACOSX에서 MiniLibX LINKING
            MiniLibX함수를 사용하기 위해선 software를 MiniLibX 라이브러리와 몇개의 시스템 프레임워크를 link해야한다.
            
            `-lmlx -framework OpenGL -framework AppKit`

            이 라이브러리들을 위해서 경로를 특정해야할 수 있는데, -L 플래그를 사용한다.


      반환 값
            mlx_init함수가 그래픽적 시스템과의 연결 설정에 실패하면 `NULL`을 반환하지만, 성공하면 연결 식별자로 해당 포인터를 리턴한다.
      ```

<br>


### 2. mlx_new_window


- 이름   
      MiniLibX - Managing windows

- 함수 프로토타입

      void *mlx_new_window( void *mlx_ptr, int size_x, int size_y, char *title );
      int mlx_clear_window ( void *mlx_ptr, void *win_ptr );
      int mlx_destroy_window ( void *mlx_ptr, void *win_ptr );
      

- 설명  
      void *mlx_new_window( void *mlx_ptr, int size_x, int size_y, char *title );

      `mlx_new_window()`함수는 스크린상에 새로운 window를 생성한다.  

      mlx_ptr은 mlx_init()함수가 반환하는 연결 식별자를 사용한다.

      인자로 받는 size_x와 size_y를 사용해 크기를 절하며, 제목으로는 title인자를 사용해 표시한다.

      mlx_new_window함수는 MiniLibX함수에서 호출되는 다른 함수에 사용될 수 있는 window 식별자를 리턴한다.
      따라서, MiniLibX는 여러 window를 별도로 제어할 수 있다.  


`int mlx_clear_window ( void *mlx_ptr, void *win_ptr );`
`int mlx_destroy_window ( void *mlx_ptr, void *win_ptr );`

mlx_clear_window는 window를 검은 화면으로 초기화해주고,  
mlx_destroy_window함수는 주어진 window를 없앤다.

두 함수는 동일한 인자를 가지는데, 연결식별자(mlx_ptr)과 window식별자(win_ptr)을 인자로 가진다.

반환값
mlx_new_window함수가 새로운 window를 만드는데에 실패하면 `NULL`을 반환하며, 성공하면 window식별자 포인터를 반환한다.
mlx_clear_window와 mlx_new_destroy_window는 아무것도 반환하지 않는다.

3. man /usr/share/man/man3/mlx_pixel_put.1  
4. man /usr/share/man/man3/mlx_new_image.1  
5. man /usr/share/man/man3/mlx_loop.1  





