---
title: "[Database] ER모델을 통한 데이터 모델링"
excerpt: "데이터베이스"

categories:
  - database
tags:
  - database 설계
  - DBMS
  - ER 모델


toc: true
toc_sticky: true

date: 2022-09-11
last_modified_at: 2022-09-11
---


# 데이터베이스 설계

## ER(entity-relationship model)

### `High-level data model`(컴퓨터와 연결성이 낮다)

- 광범위하게 사용되는 개념적 데이터모델

### `개념적 데이터 모델`

- DB사용자가 이해하는 데이터베이스 구조(miniworld에서 운영되는 시스템을 위함)

1. 개체(Entity) : 실세계의 물건, 개념
	- miniworld가 무엇인지에따라 정해진다.(miniworld에 따라 표현되어야하는 개체의 중요도가 정해지고, 표현될 개체가 선택된다.)
2. 속성(Attribute) : 개체의 성질, 속성
	- miniworld가 무엇인지에따라 정해진다.
3. 관계(Relationship) : 둘 이상의 개체간 관계

<br>

# 데이터베이스 설계 단계

<img width="767" alt="스크린샷 2022-09-11 오후 5 19 28" src="https://user-images.githubusercontent.com/76278794/189518281-ab8017fc-153c-4748-9fc9-10e3ad249eb0.png">

1. 요구수집 및 분석
	- `데이터베이스 설계자`가 사용자들의 요구사항을 문서화한다.
	- `DB requirements` : 데이터 저장 요구사항
	- `functional requirement` : 데이터 활용 요구사항(삭제, 삽입, 갱신방법)을 지정한다.

2. 개념적 스키마 설계(Concuptual Design)
	- `개체 형태, 관계, 제약`에 대한 자세한 묘사
	- high-level data model(ER 모델 등)을 사용해 표현
	- DB기술에 대해 잘 모르는 사람과 대화하기위해 `구현에대한 자세한 사항은 다루지 않는다.`

3. Functional analysis
	- 기능적 요구사항에 맞게 개념적 스키마가 설계되었는지 확인한다.
	- `high-level transaction을 설계`

4. 논리적 데이터베이스 설계(데이터베이스 구현, 데이터 모델 매핑)
	- 상용화된 DBMS로 데이터베이스 `구현`
	- `상용화된 DBMS는 구현 데이터 모델을 사용하므로, 개념적 스키마에서 구현 스키마로의 매핑`이 필요하다.
	- high-level data model<->implementation data model

5. 물리적 데이터베이스의 설계
	- 내부저장 구조 및 파일 구조 설정

6. 응용 프로그램 설계 및 구현
	- high-level transaction 사용

# 회사데이터베이스 예시

# ER모델 개념

- 정의 : 데이터를 entity, relationship, attribute로 표현한다.
- `Entity` : 실세계의 물리적, 개념적으로 존재하는 것
	- 물리적 : 자동차, 직원, 학생
	- 개념적 : 회사, 직업, 과목
- `Attribute` : Entity의 성질
	- 직원 : 이름, 월급, 나이

각 entity는 attribute에 대한 값을 가지게된다.

## Attribute 형태

### 세분화 할 수 있는가?

- simple(atomic) attribute
	- 더이상 나눠지지 않는 속성
	- 사람의 나이

- composite attribute
	- 기본적인 여러 개의 속성으로 세분화 될 수 있는 속성
	- 주소(서울특별시/서대문구/...)


### 단일한 값을 가지는가?

- single-valued attributes
	 - entity당 1개의 값만 가질 수 있는 속성
	 - 사람나이 : 1개의 값

- multi-valued attributes
	- 1개 이상의 값을 가질 수 있는 속성
	- 자동차(경찰차) : 빨, 파, 검, 흰 ...

### 값의 출처

- stored attributes
	- 값이 DB에 저장된다.

- derived attributes
	- 다른 속성의 값에의해 결정된다.
	- ex)나이


## NULL Value

- `null 값은 다양한 해석이 존재할 수 있으므로, 지양되어야한다.`

- not applicable
	- 주소의 아파트번호(단독주택은 null)
	- 사람의 학사(학위 없으면 null)

- not Known
	- missing : 값이 존재하지만, 모른다.
	- not known wheter it exists : 속성 값이 존재하는지조차 모른다.


# Entity Types, Entity sets, keys, value sets

## Entity sets

- set : 서로 다른 원소의 모임
- 동일한 구조(속성)을 갖는 entity의 집합이다.
- ERD에서 직사각형이다.

## Entity types
- 동일한 속성을 갖는 entity의 구조를 정의한다.
- entity의 이름, 속성 이름 리스트

## ERD
- entity type : 직사각형
- attribute : 타원
- multi valued attribute : double line