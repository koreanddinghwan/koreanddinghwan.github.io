I"v<h1 id="statepropsrender">state,props,render</h1>

<p>어플리케이션을 역동적으로 만들어주는 이벤트 props, state, event가 서로 상호작용하면서 어플리케이션을 역동적으로 만들어준다.<br />
Content 컴포넌트가 현재 웹페이지가 어느 사이트인지에 따라 웹페이지의 새로고침 없이 화면이 그려지도록 할 수 있다.</p>

<h2 id="state-수정">state 수정</h2>

<p>링크를 클릭하면 해당 동작에 따라 웹페이지가 변경되게해야한다.<br />
리액트에서 현재 페이지가 어느 페이지인지 알려주는 요소로 mode라는 state를 생성한다.</p>

<p>mode의 state를 welcome과 read로 구분해 <code class="language-plaintext highlighter-rouge">첫 페이지</code>인지 <code class="language-plaintext highlighter-rouge">컨텐츠 페이지</code>인지를 알려준다.</p>

<pre><code class="language-js:App.js">class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode:'welcome',
      subject: {title:'WEB', sub:'World wide web!'},
      welcome:{title:'Welcome', desc:'Hello, React!!'},
      contents: [
        {id:1, title:'REACT', desc:'HTML is a programming laguage ^^'},
        {id:2, title: 'Vue', desc:'vue is vue'},
        {id:3, title: 'angular', desc:'hello angular'}
      ]
    }
  }

</code></pre>

<p>리액트에서는 props나 state의 값이 변경되면 해당 컴포넌트의 render()함수가 다시 호출된다.<br />
그리고 그 render함수가 다시 호출됨에따라 <code class="language-plaintext highlighter-rouge">자식 컴포넌트</code>들도 다시 render()함수가 호출되게된다.</p>

<h2 id="render함수-수정">render함수 수정</h2>

<pre><code class="language-js:App.js">render() {
  var _title, _desc = null; //초기값은 null
  if (this.state.mode === 'welcome') {
    _title = this.state.welcome.title
    _desc = this.state.welcome.desc
  } else if (this.state.mode === 'read') {
    _title = this.state.contents[0].title; //인덱스넘버는 나중에 수정
    _desc = this.state.contents[0].desc; //인덱스넘버는 나중에 수정
  }
}
</code></pre>

<p>컴포넌트에 props로 전달할 _title과 _desc를 변수로 선언한다. <br />
이 변수들은 현재 mode가 welcome인지 read인지에 따라 다른 값을 받는다.</p>

<p>그리고 return의 Content부분이 현재 mode에 따라 다른 title과 desc를 props로 가지도록 수정한다.</p>

<pre><code class="language-js:App.js">&lt;Content title={_title} desc={_desc}&gt;
</code></pre>

<h1 id="event">event</h1>

<p>html에서 a태그는 기본적으로 태그를 클릭하면 웹페이지가 초기화된다.<br />
이것을 막기 위해서는 onClick 속성의 함수가 기본적으로 생성하는 매개변수인 e 프로퍼티 중에서<br />
defaultPrevented를 true로 바꿔줘야한다.</p>

<pre><code class="language-js:App.js">&lt;header&gt;
  &lt;h2&gt;
    &lt;a href="/" 
      onClick={ function(e) {
      e.preventDefault();
      }
        }&gt;
    {this.state.subject.title}
    &lt;/a&gt;
  &lt;/h2&gt;

  {this.state.subject.sub}
&lt;/header&gt;
</code></pre>

:ET